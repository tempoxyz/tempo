# linkingUSD

## Abstract

linkingUSD is a non-transferable USD stablecoin that can be used as a quote token on Tempo's decentralized exchange. In order to make it an attractive choice as a quote token on the exchange, linkingUSD is designed to be a neutral, non-user-facing stablecoin. It cannot be transferred between ordinary users, and users cannot use linkingUSD to pay gas fees, although validators can choose to receive fee payouts in linkingUSD. Use of linkingUSD is optional.

## Motivation

Each USD TIP-20 on Tempo can choose any other USD TIP-20 as its quote token—the token it is paired against on the [native decentralized exchange](/documentation/protocol/exchange/spec.mdx). This guarantees that there is one unique path between any two tokens, which reduces fragmentation of liquidity and simplifies routing.

While this structure is formally neutral, there is some risk that it could lead to a natural monopoly. If most liquidity accrues to a few stablecoins, it could give those stablecoins a competitive advantage.

To encourage an even playing field, Tempo offers a neutral USD stablecoin, linkingUSD, that other stablecoins can choose as their quote token. LinkingUSD does not compete as a user-facing stablecoin. It cannot be transferred (other than to and from the DEX, or as part of minting and burning), users cannot pay fees with it, and it will not be issued on any other chain. Tokens are able to list any other token as their quote token if they choose.

LinkingUSD can also be accepted as a fee token by validators.

## Specification

### Contract

linkingUSD is a precompiled TIP-20-compatible token instance deployed at the address `0x20c0000000000000000000000000000000000000`. Its currency is "USD", and it uses six decimals.



### Key concepts

#### linkingUSD as a quote token
linkingUSD is used exclusively as a quote token for exchange accounting and order books. It can be accepted as a fee token by validators, but users cannot pay fees with linkingUSD.

:::info
While linkingUSD is the recommended and incentivized default, users can designate alternative quote tokens if they prefer. Tempo supports this flexibility, but encourages linkingUSD adoption through yield distribution from reserves to DEX participants.
:::

##### How It Works

When you create a USD stablecoin on Tempo, you typically set linkingUSD as its quote token:

```solidity
TIP20 token = factory.createToken(
  "My Company USD",
  "MCUSD",
  "USD",
  TIP20(0x20c0000000000000000000000000000000000000), // linkingUSD
  msg.sender
);
```

This means:
- Your token trades against linkingUSD on the exchange
- Users can swap between your token and other USD stablecoins that also use linkingUSD
- All liquidity is concentrated in linkingUSD pairs

##### Hub-and-Spoke Structure

This creates a hub-and-spoke structure where all USD stablecoins trade against linkingUSD:

```
               USDC
                |
    USDP -- linkingUSD -- PYUSD
                |
               USDT
```

Any stablecoin can convert to any other through linkingUSD with just two hops, ensuring simple routing, concentrated liquidity, and efficient pricing—even for thinly-traded pairs.

##### Example: Cross-Stablecoin Payment

1. Market makers provide liquidity for USDC/linkingUSD and USDP/linkingUSD pairs
2. User wants to send USDC to a merchant who prefers USDP
3. DEX atomically routes: User's USDC → linkingUSD → Merchant's USDP
4. Single transaction, no manual swaps

This is critical for payments between parties in different regulatory regimes with different stablecoin preferences. The user and merchant never touch linkingUSD, it exists only as routing infrastructure.


#### Non-transferable design

Since linkingUSD is not meant to be used as a user‑facing stablecoin, transferring of linkingUSD is only allowed as part of buying, selling, minting, or burning the token, as well as for validator fee payouts. To enable those limited use cases, the following exceptions are allowed:

* The native stablecoin exchange contract, as well as the Fee AMM, may transfer linkingUSD. These transfers do not require or affect approvals.
* Accounts that hold the `TRANSFER_ROLE` may transfer tokens. This is intended for use in minting flows.
* Recipients that hold the `RECEIVE_WITH_MEMO_ROLE` may receive `transferWithMemo`/`transferFromWithMemo` even if the sender lacks `TRANSFER_ROLE`. This is intended for use in redemption flows.

All other attempts to transfer revert with `TransfersDisabled()`.

This design:
- Prevents it from being used outside the exchange
- Ensures it serves purely as a neutral reference point
- Avoids regulatory complexity of issuing a transferable USD stablecoin
- Prevents it from competing in the end-user stablecoin market

### Interface

linkingUSD implements the standard TIP‑20 interface. The function set below is the complete external interface relevant to token operation; behavior notes describe the linkingUSD‑specific constraints.

#### Token attributes

```solidity
function name() external view returns (string memory);
```

Returns the token name.

```solidity
function symbol() external view returns (string memory);
```

Returns the token symbol.

```solidity
function currency() external view returns (string memory);
```

```solidity
function decimals() external pure returns (uint8);
```

Returns the token currency identifier (“USD”) and the decimals (always 6).

```solidity
function totalSupply() external view returns (uint256);
```

Returns the total amount of tokens in circulation.

#### Balances and allowances

```solidity
function balanceOf(address account) external view returns (uint256);
```

```solidity
function approve(address spender, uint256 amount) external returns (bool);
```

```solidity
function allowance(address owner, address spender) external view returns (uint256);
```

Reads balances, grants allowance, and reads allowance. Allowance semantics are standard; transfer policy is enforced at execution time for actual transfers.

#### Transfers

```solidity
function transfer(address to, uint256 amount) external returns (bool);
```

```solidity
function transferFrom(address from, address to, uint256 amount) external returns (bool);
```

```solidity
function transferWithMemo(address to, uint256 amount, bytes32 memo) external;
```

```solidity
function transferFromWithMemo(address from, address to, uint256 amount, bytes32 memo) external returns (bool);
```

As discussed [above](#transfers), transfers of linkingUSD are subject to role-based authorization.

#### Minting and burning

```solidity
function mint(address to, uint256 amount) external;
```

```solidity
function mintWithMemo(address to, uint256 amount, bytes32 memo) external;
```

```solidity
function burn(uint256 amount) external;
```

```solidity
function burnWithMemo(uint256 amount, bytes32 memo) external;
```

Minting and burning follow TIP‑20 semantics.

#### Roles

```solidity
function TRANSFER_ROLE() external view returns (bytes32);
function RECEIVE_WITH_MEMO_ROLE() external view returns (bytes32);
```

`TRANSFER_ROLE` enables an account to initiate transfers of its own balance, and permits `transferFrom` of that account’s balance (subject to allowance). It is meant to be granted to addresses involved in minting.

`RECEIVE_WITH_MEMO_ROLE` enables an account to receive memo‑bearing transfers (`transferWithMemo` / `transferFromWithMemo`) even when the sender does not hold `TRANSFER_ROLE`. It is meant to be granted to redemption addresses, so that users can transfer tokens to those addresses to redeem them for USD (using the memo field for instructions).

#### Quote token metadata

```solidity
function quoteToken() external view returns (ITIP20);
```

Returns the zero address.

### Errors

```solidity
error TransfersDisabled();
```