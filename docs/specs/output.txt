Compiling 1 files with Solc 0.8.30
Solc 0.8.30 finished in 1.73s
Compiler run successful with warnings:
Warning (2072): Unused local variable.
    --> test/StablecoinDEX.t.sol:1728:9:
     |
1728 |         uint256 out1 = exchange.swapExactAmountIn(
     |         ^^^^^^^^^^^^

Warning (2072): Unused local variable.
    --> test/StablecoinDEX.t.sol:1731:9:
     |
1731 |         uint256 out2 = exchange.swapExactAmountIn(
     |         ^^^^^^^^^^^^


Ran 1 test for test/StablecoinDEX.t.sol:StablecoinDEXTest
[FAIL: assertion failed: 9999999999999950000000 != 10000000000000000000000] test_TakerIsMaker() (gas: 384881)
Logs:
  Tests running with isTempo = true
  0
  0
  100000000
  50000000

Traces:
  [920335] StablecoinDEXTest::setUp()
    ├─ [0] console::log("Tests running with isTempo =", true) [staticcall]
    │   └─ ← [Stop]
    ├─ [0] VM::store(ValidatorConfig: [0xCccCcCCC00000000000000000000000000000000], 0x0000000000000000000000000000000000000000000000000000000000000000, 0x0000000000000000000000007fa9385be102ac3eac297483dd6233d62b3e1496)
    │   └─ ← [Return]
    ├─ [0] VM::store(PathUSD: [0x20C0000000000000000000000000000000000000], 0x863fcb99fb78098ba65a07c5dcf7196ac60e997b3f3793ab79b7db9297b2b1c6, 0x0000000000000000000000000000000000000000000000000000000000000001)
    │   └─ ← [Return]
    ├─ [0] VM::store(PathUSD: [0x20C0000000000000000000000000000000000000], 0x7d8760a16545e861ba25a9ca9363665d7d3fc8bd7d7be2b091202dd6eb0fdb31, 0x0000000000000000000000000000000000000000000000000000000000000001)
    │   └─ ← [Return]
    ├─ [188406] TIP20Factory::createToken("TOKEN1", "T1", "USD", PathUSD: [0x20C0000000000000000000000000000000000000], StablecoinDEXTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 0x746f6b656e310000000000000000000000000000000000000000000000000000)
    │   ├─ emit RoleMembershipUpdated(role: 0x0000000000000000000000000000000000000000000000000000000000000000, account: StablecoinDEXTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], sender: StablecoinDEXTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], hasRole: true)
    │   ├─ emit TokenCreated(token: 0x20C0000000000000000000008e2081886A8B8b31, name: "TOKEN1", symbol: "T1", currency: "USD", quoteToken: PathUSD: [0x20C0000000000000000000000000000000000000], admin: StablecoinDEXTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], salt: 0x746f6b656e310000000000000000000000000000000000000000000000000000)
    │   └─ ← [Return] 0x20C0000000000000000000008e2081886A8B8b31
    ├─ [186406] TIP20Factory::createToken("TOKEN2", "T2", "USD", PathUSD: [0x20C0000000000000000000000000000000000000], StablecoinDEXTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], 0x746f6b656e320000000000000000000000000000000000000000000000000000)
    │   ├─ emit RoleMembershipUpdated(role: 0x0000000000000000000000000000000000000000000000000000000000000000, account: StablecoinDEXTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], sender: StablecoinDEXTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], hasRole: true)
    │   ├─ emit TokenCreated(token: 0x20C00000000000000000000016151A0BD902FeEf, name: "TOKEN2", symbol: "T2", currency: "USD", quoteToken: PathUSD: [0x20C0000000000000000000000000000000000000], admin: StablecoinDEXTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], salt: 0x746f6b656e320000000000000000000000000000000000000000000000000000)
    │   └─ ← [Return] 0x20C00000000000000000000016151A0BD902FeEf
    ├─ [0] VM::startPrank(StablecoinDEXTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496])
    │   └─ ← [Return]
    ├─ [26549] 0x20C0000000000000000000008e2081886A8B8b31::grantRole(0x114e74f6ea3bd819998f78687bfcb11b140da08e9b7d222fa9c1f1ba1f2aa122, StablecoinDEXTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496])
    │   ├─ emit RoleMembershipUpdated(role: 0x114e74f6ea3bd819998f78687bfcb11b140da08e9b7d222fa9c1f1ba1f2aa122, account: StablecoinDEXTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], sender: StablecoinDEXTest: [0x7FA9385bE102ac3EAc297483Dd6233D62b3e1496], hasRole: true)
    │   └─ ← [Return]
    ├─ [56155] 0x20C0000000000000000000008e2081886A8B8b31::mint(0x0000000000000000000000000000000000000200, 10000000000000000000000 [1e22])
    │   ├─ emit Transfer(from: 0x0000000000000000000000000000000000000000, to: 0x0000000000000000000000000000000000000200, amount: 10000000000000000000000 [1e22])
    │   ├─ emit Mint(to: 0x0000000000000000000000000000000000000200, amount: 10000000000000000000000 [1e22])
    │   └─ ← [Return]
    ├─ [32255] 0x20C0000000000000000000008e2081886A8B8b31::mint(0x0000000000000000000000000000000000000300, 10000000000000000000000 [1e22])
    │   ├─ emit Transfer(from: 0x0000000000000000000000000000000000000000, to: 0x0000000000000000000000000000000000000300, amount: 10000000000000000000000 [1e22])
    │   ├─ emit Mint(to: 0x0000000000000000000000000000000000000300, amount: 10000000000000000000000 [1e22])
    │   └─ ← [Return]
    ├─ [0] VM::stopPrank()
    │   └─ ← [Return]
    ├─ [0] VM::startPrank(0xb4c79daB8f259C7Aee6E5b2Aa729821864227e84)
    │   └─ ← [Return]
    ├─ [26549] PathUSD::grantRole(0x114e74f6ea3bd819998f78687bfcb11b140da08e9b7d222fa9c1f1ba1f2aa122, 0xb4c79daB8f259C7Aee6E5b2Aa729821864227e84)
    │   ├─ emit RoleMembershipUpdated(role: 0x114e74f6ea3bd819998f78687bfcb11b140da08e9b7d222fa9c1f1ba1f2aa122, account: 0xb4c79daB8f259C7Aee6E5b2Aa729821864227e84, sender: 0xb4c79daB8f259C7Aee6E5b2Aa729821864227e84, hasRole: true)
    │   └─ ← [Return]
    ├─ [43055] PathUSD::mint(0x0000000000000000000000000000000000000200, 10000000000000000000000 [1e22])
    │   ├─ emit Transfer(from: 0x0000000000000000000000000000000000000000, to: 0x0000000000000000000000000000000000000200, amount: 10000000000000000000000 [1e22])
    │   ├─ emit Mint(to: 0x0000000000000000000000000000000000000200, amount: 10000000000000000000000 [1e22])
    │   └─ ← [Return]
    ├─ [32255] PathUSD::mint(0x0000000000000000000000000000000000000300, 10000000000000000000000 [1e22])
    │   ├─ emit Transfer(from: 0x0000000000000000000000000000000000000000, to: 0x0000000000000000000000000000000000000300, amount: 10000000000000000000000 [1e22])
    │   ├─ emit Mint(to: 0x0000000000000000000000000000000000000300, amount: 10000000000000000000000 [1e22])
    │   └─ ← [Return]
    ├─ [0] VM::stopPrank()
    │   └─ ← [Return]
    ├─ [0] VM::startPrank(0x0000000000000000000000000000000000000200)
    │   └─ ← [Return]
    ├─ [24074] 0x20C0000000000000000000008e2081886A8B8b31::approve(StablecoinDex: [0xDEc0000000000000000000000000000000000000], 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77])
    │   ├─ emit Approval(owner: 0x0000000000000000000000000000000000000200, spender: StablecoinDex: [0xDEc0000000000000000000000000000000000000], amount: 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77])
    │   └─ ← [Return] true
    ├─ [24074] PathUSD::approve(StablecoinDex: [0xDEc0000000000000000000000000000000000000], 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77])
    │   ├─ emit Approval(owner: 0x0000000000000000000000000000000000000200, spender: StablecoinDex: [0xDEc0000000000000000000000000000000000000], amount: 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77])
    │   └─ ← [Return] true
    ├─ [0] VM::stopPrank()
    │   └─ ← [Return]
    ├─ [0] VM::startPrank(0x0000000000000000000000000000000000000300)
    │   └─ ← [Return]
    ├─ [24074] 0x20C0000000000000000000008e2081886A8B8b31::approve(StablecoinDex: [0xDEc0000000000000000000000000000000000000], 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77])
    │   ├─ emit Approval(owner: 0x0000000000000000000000000000000000000300, spender: StablecoinDex: [0xDEc0000000000000000000000000000000000000], amount: 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77])
    │   └─ ← [Return] true
    ├─ [24074] PathUSD::approve(StablecoinDex: [0xDEc0000000000000000000000000000000000000], 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77])
    │   ├─ emit Approval(owner: 0x0000000000000000000000000000000000000300, spender: StablecoinDex: [0xDEc0000000000000000000000000000000000000], amount: 115792089237316195423570985008687907853269984665640564039457584007913129639935 [1.157e77])
    │   └─ ← [Return] true
    ├─ [0] VM::stopPrank()
    │   └─ ← [Return]
    ├─ [113087] StablecoinDex::createPair(0x20C0000000000000000000008e2081886A8B8b31)
    │   ├─ emit PairCreated(key: 0xd5d4eb359a5f2be4ce12527f0832ec35920e5a14133e3bfd1aa105b0e84c234a, base: 0x20C0000000000000000000008e2081886A8B8b31, quote: PathUSD: [0x20C0000000000000000000000000000000000000])
    │   └─ ← [Return] 0xd5d4eb359a5f2be4ce12527f0832ec35920e5a14133e3bfd1aa105b0e84c234a
    └─ ← [Stop]

  [384881] StablecoinDEXTest::test_TakerIsMaker()
    ├─ [2212] 0x20C0000000000000000000008e2081886A8B8b31::balanceOf(0x0000000000000000000000000000000000000200) [staticcall]
    │   └─ ← [Return] 10000000000000000000000 [1e22]
    ├─ [2212] PathUSD::balanceOf(0x0000000000000000000000000000000000000200) [staticcall]
    │   └─ ← [Return] 10000000000000000000000 [1e22]
    ├─ [2118] StablecoinDex::balanceOf(0x0000000000000000000000000000000000000200, PathUSD: [0x20C0000000000000000000000000000000000000]) [staticcall]
    │   └─ ← [Return] 0
    ├─ [0] console::log(0) [staticcall]
    │   └─ ← [Stop]
    ├─ [6] StablecoinDex::MIN_ORDER_AMOUNT() [staticcall]
    │   └─ ← [Return] 100000000 [1e8]
    ├─ [0] VM::prank(0x0000000000000000000000000000000000000200)
    │   └─ ← [Return]
    ├─ [268129] StablecoinDex::place(0x20C0000000000000000000008e2081886A8B8b31, 100000000 [1e8], false, 100)
    │   ├─ emit Transfer(from: 0x0000000000000000000000000000000000000200, to: StablecoinDex: [0xDEc0000000000000000000000000000000000000], amount: 100000000 [1e8])
    │   ├─ emit OrderPlaced(orderId: 1, maker: 0x0000000000000000000000000000000000000200, token: 0x20C0000000000000000000008e2081886A8B8b31, amount: 100000000 [1e8], isBid: false, tick: 100)
    │   └─ ← [Return] 1
    ├─ [118] StablecoinDex::balanceOf(0x0000000000000000000000000000000000000200, PathUSD: [0x20C0000000000000000000000000000000000000]) [staticcall]
    │   └─ ← [Return] 0
    ├─ [0] console::log(0) [staticcall]
    │   └─ ← [Stop]
    ├─ [0] VM::startPrank(0x0000000000000000000000000000000000000200)
    │   └─ ← [Return]
    ├─ [6] StablecoinDex::MIN_ORDER_AMOUNT() [staticcall]
    │   └─ ← [Return] 100000000 [1e8]
    ├─ [76729] StablecoinDex::swapExactAmountIn(PathUSD: [0x20C0000000000000000000000000000000000000], 0x20C0000000000000000000008e2081886A8B8b31, 50000000 [5e7], 0)
    │   ├─ emit Transfer(from: 0x0000000000000000000000000000000000000200, to: StablecoinDex: [0xDEc0000000000000000000000000000000000000], amount: 50000000 [5e7])
    │   ├─ emit OrderFilled(orderId: 1, maker: 0x0000000000000000000000000000000000000200, taker: 0x0000000000000000000000000000000000000200, amountFilled: 49950049 [4.995e7], partialFill: true)
    │   ├─ emit Transfer(from: StablecoinDex: [0xDEc0000000000000000000000000000000000000], to: 0x0000000000000000000000000000000000000200, amount: 49950049 [4.995e7])
    │   └─ ← [Return] 49950049 [4.995e7]
    ├─ [6] StablecoinDex::MIN_ORDER_AMOUNT() [staticcall]
    │   └─ ← [Return] 100000000 [1e8]
    ├─ [0] console::log(100000000 [1e8]) [staticcall]
    │   └─ ← [Stop]
    ├─ [212] 0x20C0000000000000000000008e2081886A8B8b31::balanceOf(0x0000000000000000000000000000000000000200) [staticcall]
    │   └─ ← [Return] 9999999999999949950049 [9.999e21]
    ├─ [6] StablecoinDex::MIN_ORDER_AMOUNT() [staticcall]
    │   └─ ← [Return] 100000000 [1e8]
    ├─ [0] VM::assertEq(9999999999999949950049 [9.999e21], 9999999999999949950049 [9.999e21]) [staticcall]
    │   └─ ← [Return]
    ├─ [118] StablecoinDex::balanceOf(0x0000000000000000000000000000000000000200, PathUSD: [0x20C0000000000000000000000000000000000000]) [staticcall]
    │   └─ ← [Return] 50000000 [5e7]
    ├─ [0] console::log(50000000 [5e7]) [staticcall]
    │   └─ ← [Stop]
    ├─ [212] PathUSD::balanceOf(0x0000000000000000000000000000000000000200) [staticcall]
    │   └─ ← [Return] 9999999999999950000000 [9.999e21]
    ├─ [0] VM::assertEq(9999999999999950000000 [9.999e21], 10000000000000000000000 [1e22]) [staticcall]
    │   └─ ← [Revert] assertion failed: 9999999999999950000000 != 10000000000000000000000
    └─ ← [Revert] assertion failed: 9999999999999950000000 != 10000000000000000000000

Backtrace:
  at VM.assertEq
  at StablecoinDEXTest.test_TakerIsMaker (test/StablecoinDEX.t.sol:1758:75)

Suite result: FAILED. 0 passed; 1 failed; 0 skipped; finished in 1.34ms (387.21µs CPU time)

Ran 1 test suite in 101.98ms (1.34ms CPU time): 0 tests passed, 1 failed, 0 skipped (1 total tests)

Failing tests:
Encountered 1 failing test in test/StablecoinDEX.t.sol:StablecoinDEXTest
[FAIL: assertion failed: 9999999999999950000000 != 10000000000000000000000] test_TakerIsMaker() (gas: 384881)

Encountered a total of 1 failing tests, 0 tests succeeded

Tip: Run `forge test --rerun` to retry only the 1 failed test
